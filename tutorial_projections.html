<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ISCE: Map Projections Tutorial</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ISCE
   &#160;<span id="projectnumber">3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="sphinx/html/index.html"><span>Python&#160;classes</span></a></li>
      <li><a href="https://github-fn.jpl.nasa.gov/isce-3/isce/issues/"><span>Issue&#160;Tracker</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Map Projections Tutorial </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#projinclude">Include headers</a></li>
<li class="level1"><a href="#projfactory">Creating a projection object</a></li>
<li class="level1"><a href="#projuse">Transforming coordinates</a><ul><li class="level2"><a href="#projfwd">Forward transform</a></li>
<li class="level2"><a href="#projinv">Inverse</a></li>
<li class="level2"><a href="#projcomb">Transforming between systems</a></li>
</ul>
</li>
<li class="level1"><a href="#projadvanced">Compatibility with PROJ/ GDAL</a></li>
</ul>
</div>
<div class="textblock"><p>ISCE can currently handle a bunch of map projections defined on the WGS84 Ellipsoid (See <a href="file:///Users/agram/tools/isce_git/cmake/build/doc/html/overview_raster.html#multi_row">Raster overview</a>).</p>
<p>The projections interface design is very similar to the one in the <a href="https://proj4.org/">PROJ</a> library. We have a separate implementation of the library for easier interaction with similar CUDA-side objects. Since, a CUDA version of <a href="https://proj4.org/">PROJ</a> is not available, we wrote our own for the subset of projections required by NISAR.</p>
<h1><a class="anchor" id="projinclude"></a>
Include headers</h1>
<p>In general, one only needs to include the isce::core::Projections headerfile. </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;isce/core/Projections.h&quot;</span></div>
</div><!-- fragment --><p>If one is looking to process data with more general set of projections as part of your workflow, include appropriate PROJ or GDAL header files. Note that you will not be able to use any CUDA-based optimization for such unsupported projections.</p>
<h1><a class="anchor" id="projfactory"></a>
Creating a projection object</h1>
<p>ISCE projection objects are created exclusively using the EPSG codes (see <a href="file:///Users/agram/tools/isce_git/cmake/build/doc/html/overview_raster.html#multi_row">Raster overview</a>). For example</p>
<div class="fragment"><div class="line"><span class="comment">//Creates interface to standard WGS84 Lon/Lat system</span></div>
<div class="line"><a class="code" href="structisce_1_1core_1_1ProjectionBase.html">isce::core::ProjectionBase</a> *llh = isce::core::createProj(4326);</div>
<div class="line"></div>
<div class="line"><span class="comment">//Creates interface to UTM 20N</span></div>
<div class="line"><a class="code" href="structisce_1_1core_1_1ProjectionBase.html">isce::core::ProjectionBase</a> *utm20n = isce::core::createProj(32620);</div>
<div class="line"></div>
<div class="line"><span class="comment">//Creates interface to Antarctic Polar Stereographic</span></div>
<div class="line"><a class="code" href="structisce_1_1core_1_1ProjectionBase.html">isce::core::ProjectionBase</a> *spolar = isce::core::createProj(3031);</div>
</div><!-- fragment --><h1><a class="anchor" id="projuse"></a>
Transforming coordinates</h1>
<p>ISCE projection objects are similar to PJ datastructure in the <a href="https://proj4.org/">PROJ</a> framework. Internally, each projection object provides an interface to convert to and from a given coordinate system to Lon/Lat/Hae (radians).</p>
<h2><a class="anchor" id="projfwd"></a>
Forward transform</h2>
<p>This is accomplished via the isce::core::ProjectionBase::fwd method. We refer to transformation of a Lon/Lat/Hae (radians) to projection of interest as Forward transformation. For example</p>
<div class="fragment"><div class="line"><span class="comment">//Create interface to Antarctic Polar Stereographic</span></div>
<div class="line"><a class="code" href="structisce_1_1core_1_1ProjectionBase.html">isce::core::ProjectionBase</a> *spolar = isce::core::createProj(3031);</div>
<div class="line"></div>
<div class="line"><span class="comment">//Pick a point to transform - say south pole</span></div>
<div class="line"><a class="code" href="classisce_1_1core_1_1Vector.html">isce::core::cartesian_t</a> spole = {0., -M_PI/2.0, 0.};</div>
<div class="line"></div>
<div class="line"><span class="comment">//Transform the point </span></div>
<div class="line"><a class="code" href="classisce_1_1core_1_1Vector.html">isce::core::cartesian_t</a> xyz;</div>
<div class="line">spolar-&gt;fwd(llh, xyz);</div>
<div class="line"></div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Coordinates in polar coordinates: &quot;</span> &lt;&lt; xyz[0] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; xyz[1] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; xyz[2] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
</div><!-- fragment --><h2><a class="anchor" id="projinv"></a>
Inverse</h2>
<p>This is accomplished via the isce::core::ProjectionBase::inv method. We refer to the transformation from projection of interest to Lon/Lat/Hae (radians) as Inverse Transformation. For example</p>
<div class="fragment"><div class="line"><span class="comment">//Create interface to Antarctic Polar Stereographic</span></div>
<div class="line"><a class="code" href="structisce_1_1core_1_1ProjectionBase.html">isce::core::ProjectionBase</a> *spolar = isce::core::createProj(3031);</div>
<div class="line"></div>
<div class="line"><span class="comment">//Pick a point to transform - say south pole</span></div>
<div class="line"><a class="code" href="classisce_1_1core_1_1Vector.html">isce::core::cartesian_t</a> origin = {0., 0., 0.};</div>
<div class="line"></div>
<div class="line"><span class="comment">//Transform the point </span></div>
<div class="line"><a class="code" href="classisce_1_1core_1_1Vector.html">isce::core::cartesian_t</a> llh;</div>
<div class="line">spolar-&gt;inv(origin, llh);</div>
<div class="line"></div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Coordinates in Lon/Lat/Hae (radians): &quot;</span> &lt;&lt; llh[0] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; llh[1] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; llh[2] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
</div><!-- fragment --><h2><a class="anchor" id="projcomb"></a>
Transforming between systems</h2>
<p>One could use a pair of isce::core::ProjectionBase::fwd and isce::core::ProjectionBase::inv calls to do this or directly use isce::core::projTransform.</p>
<h1><a class="anchor" id="projadvanced"></a>
Compatibility with PROJ/ GDAL</h1>
<p>ISCE's projection interface is compatible with PROJ or GDAL (which builds on PROJ). There should be no problems with mixing the interfaces in C++ level. </p>
</div></div><!-- contents -->
<hr>
Generated for ISCE3.0 by
<a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.8.5.
</body>
</html>
